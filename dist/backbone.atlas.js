!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("underscore"),require("backbone")):"function"==typeof define&&define.amd?define("Atlas",["underscore","backbone"],t):"object"==typeof exports?exports.Atlas=t(require("underscore"),require("backbone")):e.Atlas=t(e._,e.Backbone)}("undefined"!=typeof self?self:this,function(e,t){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s=2)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t,r){"use strict";var n=r(3),o=r(4);e.exports={Collection:n.Collection,Model:o.Model}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Collection=void 0;var n=l(r(0)),o=l(r(1));function l(e){return e&&e.__esModule?e:{default:e}}t.Collection=o.default.Collection.extend({model:null,parent:null,filters:{},initialize:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.parent=e.parent||null,this.filters=n.default.assign(n.default.clone(this.filters),e.filters)},url:function(){return(this.parent?this.parent.url():"")+(this.urlRoot?this.urlRoot:this.model.prototype.urlRoot)},sync:function(e,t,r){var l=this,u=r.beforeSend;return r.beforeSend=function(e,t){return t.url=(l.model.prototype.baseUrl?l.model.prototype.baseUrl:"")+t.url,t.crossDomain=!0,n.default.each(l.model.prototype.headers,function(t,r){e.setRequestHeader(r,t)}),u?u.call(l,e,t):null},o.default.Collection.prototype.sync.call(this,e,t,r)},fetch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.defaults(e,{data:{}}),n.default.extend(e.data,this.filters),o.default.Collection.prototype.fetch.apply(this,[e])}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;var n=l(r(0)),o=l(r(1));function l(e){return e&&e.__esModule?e:{default:e}}t.Model=o.default.Model.extend({baseUrl:null,urlRoot:null,headers:{},parent:null,parentUrlRoot:null,filters:{},initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.baseUrl=t.baseUrl||this.baseUrl,this.urlRoot=t.urlRoot||this.urlRoot,this.headers=n.default.assign(n.default.clone(this.headers),t.headers||{}),this.parent=t.parent||n.default.result(t.collection,"parent",null),this.filters=n.default.assign(n.default.clone(this.filters),t.filters||{})},url:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.parent?this.parent.url(this.parentUrlRoot):"",r=void 0;if(e)if(this.isNew())r=e;else{var n=this.get(this.idAttribute);r=e.replace(/[^\/]$/,"$&/")+encodeURIComponent(n)}else r=o.default.Model.prototype.url.apply(this);return t+r},sync:function(e,t,r){var l=this,u=r.beforeSend;return r.beforeSend=function(e,t){return t.url=(l.baseUrl?l.baseUrl:"")+t.url,t.crossDomain=!0,n.default.each(l.headers,function(t,r){e.setRequestHeader(r,t)}),u?u.call(l,e,t):null},o.default.Model.prototype.sync.call(this,e,t,r)},fetch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.defaults(e,{data:{}}),n.default.extend(e.data,this.filters),o.default.Model.prototype.fetch.call(this,e)},parse:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?n.default.mapObject(e,function(e,o){return t.constructor.parsers&&n.default.isFunction(t.constructor.parsers[o])?t.constructor.parsers[o](e,r,t):t.constructor.parse(e,r,t,o)}):e}},{parse:function(e,t,r,n){return e}})}])});
//# sourceMappingURL=backbone.atlas.js.map